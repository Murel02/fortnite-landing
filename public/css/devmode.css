/* devmode.css */

/* Panel */
[data-dev="1"] .devpanel {
  margin: 1rem 0;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 0.75rem;
}
[data-dev="1"] .devpanel__row {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 0.5rem;
}
[data-dev="1"] .devpanel input[type="text"],
[data-dev="1"] .devpanel input[type="number"],
[data-dev="1"] .devpanel input {
  padding: 0.35rem 0.5rem;
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.15);
  background: rgba(0, 0, 0, 0.2);
  color: #fff;
}
[data-dev="1"] .devpanel table {
  width: 100%;
  border-collapse: collapse;
}
[data-dev="1"] .devpanel th,
[data-dev="1"] .devpanel td {
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  padding: 0.35rem;
}
[data-dev="1"] .devpanel .btn.btn-xs {
  padding: 0.25rem 0.5rem;
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
}
[data-dev="1"] .devpanel .muted {
  opacity: 0.75;
}

/* Marker-layer: ligger over kort-billedet men under øvrige UI */
[data-dev="1"] .devMarkerLayer {
  position: absolute;
  inset: 0;
  pointer-events: none; /* klik går igennem som default */
  z-index: 2; /* over map-img, under knapper/sheet */
}

/* Markører & labels må gerne fange events */
[data-dev="1"] .devMarker,
[data-dev="1"] .devLabel {
  pointer-events: auto;
}

/* DEV markør (EN entydig definition) */
[data-dev="1"] .devMarker {
  position: absolute;
  width: 14px;
  height: 14px;
  margin-left: -7px;
  margin-top: -7px;
  border-radius: 50%;
  background: var(--marker-color, #ff3b30);
  border: 2px solid #fff;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.35);
  cursor: grab;
}
[data-dev="1"] .devMarker:active {
  cursor: grabbing;
}

/* API markører (kun visning – klik/drag promoverer dem til dev) */
[data-dev="1"] .devMarker.devMarker--api {
  background: #2a7bff;
  border-color: #fff;
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.35),
    inset 0 0 0 2px rgba(255, 255, 255, 0.3);
  opacity: 0.95;
}
[data-dev="1"] .devMarker.devMarker--api::after {
  content: "A";
  position: absolute;
  inset: -2px 0 0 0;
  font-size: 9px;
  font-weight: 700;
  text-align: center;
  line-height: 14px;
  color: #fff;
  pointer-events: none;
}

/* Labels */
[data-dev="1"] .devLabel {
  position: absolute;
  left: 50%;
  top: -10px;
  transform: translate(-50%, -14px);
  white-space: nowrap;
  font-size: 12px;
  line-height: 1.3;
  background: rgba(0, 0, 0, 0.65);
  color: #fff;
  padding: 2px 6px;
  border-radius: 6px;
  user-select: text;
  -webkit-user-select: text;
}
[data-dev="1"] .devLabel--api {
  background: rgba(42, 123, 255, 0.85);
}
[data-dev="1"] .devLabel.editing {
  outline: 1px dashed rgba(255, 255, 255, 0.7);
}

/* === Mobile-friendly devmode (≤ 600px) === */
@media (max-width: 600px) {
  /* Panelet bliver en let overlay under headeren */
  [data-dev="1"] .devpanel {
    position: fixed;
    left: 8px;
    right: 8px;
    top: calc(56px + env(safe-area-inset-top) + 8px); /* under header */
    z-index: 60; /* over map/sheet */
    max-height: 48vh; /* undgå at dække for meget */
    overflow: auto; /* scroll indholdet i stedet for hele siden */
    padding: 0.5rem;
    border-radius: 12px;
    backdrop-filter: blur(6px) saturate(110%);
  }

  /* Tighter spacing/typografi */
  [data-dev="1"] .devpanel__row {
    gap: 0.4rem;
    margin-bottom: 0.4rem;
    flex-direction: column; /* stak rækkerne på smal skærm */
    align-items: stretch;
  }
  [data-dev="1"] .devpanel input[type="text"],
  [data-dev="1"] .devpanel input[type="number"],
  [data-dev="1"] .devpanel input {
    padding: 0.4rem 0.5rem;
    font-size: 13px;
  }
  [data-dev="1"] .devpanel .btn.btn-xs {
    min-height: 40px; /* touch target */
    font-size: 13px;
  }

  /* Tabel: gør den scrollable vandret i stedet for at presse layoutet */
  [data-dev="1"] .devpanel .devpanel__list {
    overflow-x: auto;
  }
  [data-dev="1"] .devpanel table {
    width: 640px; /* bevar kolonner, men kræv scroll på mobil */
  }
  [data-dev="1"] .devpanel th,
  [data-dev="1"] .devpanel td {
    white-space: nowrap;
    padding: 0.3rem;
    font-size: 13px;
  }

  /* Sørg for at Drop-knappen ikke bliver dækket af panelet */
  .bottom-bar {
    z-index: 70;
  }
}

/* Ekstra: skjul evt. gammel flydende dev-FAB hvis den findes */
.dev-fab,
.dev-toggle-float,
.corner-toggle,
#devFab {
  display: none !important;
}
